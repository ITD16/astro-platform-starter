---
import Layout from '../layouts/Layout.astro';
---

<Layout title="">
  <div 
    id="fullscreen-container"
    class="flex flex-col items-center justify-center h-screen text-center space-y-4 w-screen overflow-x-auto select-none touch-manipulation"
  >
    <h1 class="!text-[#ff3c00] text-[240px] font-extrabold tracking-widest whitespace-nowrap">
      SUN.WIN
    </h1>
    <h1 class="!text-[#ff3c00] text-[240px] font-extrabold tracking-widest whitespace-nowrap">
      GEM.WIN
    </h1>
  </div>

  <!-- ✅ Script đúng chuẩn Astro -->
  <script is:inline>
    let lastTap = 0;

    function handleFullScreen() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) {
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) {
        elem.msRequestFullscreen();
      }
    }

    // ✅ Ngăn pinch zoom (2 ngón)
    document.addEventListener('touchstart', (e) => {
      if (e.touches.length > 1) {
        e.preventDefault();
      }
    }, { passive: false });

    // ✅ Giả lập double tap trên mobile
    document.addEventListener('touchend', (e) => {
      const now = new Date().getTime();
      const tapLength = now - lastTap;
      if (tapLength < 300 && tapLength > 0) {
        e.preventDefault();
        handleFullScreen();
      }
      lastTap = now;
    });

    // ✅ Desktop: double click
    document.addEventListener('dblclick', (e) => {
      e.preventDefault();
      handleFullScreen();
    });
  </script>
</Layout>
